<html>
<head>
<title>Grids Grids Grids!</title>
<style>


</style>
</head>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.2/underscore-min.js"></script>
<script>

$(function () {
    // this is setup code
    var body = $('body')
    var width = body.width()
    var height = body.height();
    var canvas = $('<canvas/>').attr('width', width).attr('height', height)
    body.append(canvas)
    var c = canvas.get()[0].getContext("2d")

    // keep track of where the mouse is
    var mouseX = 0
    var mouseY = 0
    $('body').mousemove(function (e) {
        mouseX = e.pageX
        mouseY = e.pageY
    })

    setInterval(function () {
        // this code will run over and over again...

        // this paints just a bit of whiteness over everything
        c.fillStyle = "rgba(255, 255, 255, 0.05)"
        c.fillRect(0, 0, width, height)

        // first we'll decide where to place a circle, favoring the mouse's position
        var x = mouseX + (width * Math.pow(Math.random(), 5)) * (Math.random() < 0.5 ? -1 : 1)
        var y = mouseY + (height * Math.pow(Math.random(), 5)) * (Math.random() < 0.5 ? -1 : 1)

        // ...keep it in-bounds
        if (x > width) x = width - (x - width)
        if (y > height) y = height - (y - height)
        if (x < 0) x = -x
        if (y < 0) y = -y

        // snap it to a 10x10 grid
        x = (Math.floor(x / (width / 10)) + 0.5) * (width / 10)
        y = (Math.floor(y / (height / 10)) + 0.5) * (height / 10)

        // let's get the size right
        var x_sz = width*0.1
        var y_sz = height*0.1

        var max_size = Math.min(x_sz, y_sz)/2.0;
        var size = max_size * Math.random();

        // now let's actually draw the circle
        c.beginPath()
        c.arc(x, y, size, 0, Math.PI*2, true)
        c.closePath()
        c.fillStyle = "black"
        c.fill()
    }, 50)
})

</script>
</body>
</html>
